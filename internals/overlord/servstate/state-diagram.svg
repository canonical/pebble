<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.1.1 (20240910.0053)
 -->
<!-- Title: service_state_machine Pages: 1 -->
<svg width="791pt" height="658pt"
 viewBox="0.00 0.00 790.51 657.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 653.5)">
<title>service_state_machine</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-653.5 786.51,-653.5 786.51,4 -4,4"/>
<!-- initial -->
<g id="node1" class="node">
<title>initial</title>
<polygon fill="none" stroke="black" stroke-width="3" points="323.38,-649.5 251.13,-649.5 251.13,-613.5 323.38,-613.5 323.38,-649.5"/>
<text text-anchor="middle" x="287.26" y="-622.2" font-family="Times,serif" font-size="24.00">initial</text>
</g>
<!-- starting -->
<g id="node2" class="node">
<title>starting</title>
<polygon fill="none" stroke="black" points="331.26,-561 243.26,-561 243.26,-525 331.26,-525 331.26,-561"/>
<text text-anchor="middle" x="287.26" y="-533.7" font-family="Times,serif" font-size="24.00">starting</text>
</g>
<!-- initial&#45;&gt;starting -->
<g id="edge1" class="edge">
<title>initial&#45;&gt;starting</title>
<path fill="none" stroke="black" d="M287.26,-612.16C287.26,-600.69 287.26,-585.68 287.26,-572.66"/>
<polygon fill="black" stroke="black" points="290.76,-572.95 287.26,-562.95 283.76,-572.95 290.76,-572.95"/>
<text text-anchor="middle" x="298.88" y="-582.2" font-family="Times,serif" font-size="14.00">start</text>
</g>
<!-- backoff -->
<g id="node3" class="node">
<title>backoff</title>
<polygon fill="none" stroke="black" points="475.26,-456 387.26,-456 387.26,-420 475.26,-420 475.26,-456"/>
<text text-anchor="middle" x="431.26" y="-428.7" font-family="Times,serif" font-size="24.00">backoff</text>
</g>
<!-- starting&#45;&gt;backoff -->
<g id="edge2" class="edge">
<title>starting&#45;&gt;backoff</title>
<path fill="none" stroke="black" d="M331.69,-532.57C349.62,-527.2 369.69,-519.07 385.26,-507 399.08,-496.28 410.22,-480.21 418.07,-466.39"/>
<polygon fill="black" stroke="black" points="421.08,-468.18 422.72,-457.71 414.91,-464.88 421.08,-468.18"/>
<text text-anchor="middle" x="498.27" y="-493.7" font-family="Times,serif" font-size="14.00">exited before okay wait elapses</text>
<text text-anchor="middle" x="498.27" y="-477.2" font-family="Times,serif" font-size="14.00">(action &quot;restart&quot;)</text>
</g>
<!-- running -->
<g id="node4" class="node">
<title>running</title>
<polygon fill="none" stroke="black" points="417.76,-351 326.76,-351 326.76,-315 417.76,-315 417.76,-351"/>
<text text-anchor="middle" x="372.26" y="-323.7" font-family="Times,serif" font-size="24.00">running</text>
</g>
<!-- starting&#45;&gt;running -->
<g id="edge3" class="edge">
<title>starting&#45;&gt;running</title>
<path fill="none" stroke="black" d="M289.54,-524.7C294.4,-492.27 307.93,-420.91 338.26,-369 340.09,-365.85 342.27,-362.78 344.63,-359.84"/>
<polygon fill="black" stroke="black" points="347.02,-362.41 351.05,-352.61 341.79,-357.76 347.02,-362.41"/>
<text text-anchor="middle" x="341.21" y="-441.2" font-family="Times,serif" font-size="14.00">okay wait</text>
<text text-anchor="middle" x="341.21" y="-424.7" font-family="Times,serif" font-size="14.00">elapsed</text>
</g>
<!-- terminating -->
<g id="node5" class="node">
<title>terminating</title>
<polygon fill="none" stroke="black" points="565.76,-246 438.76,-246 438.76,-210 565.76,-210 565.76,-246"/>
<text text-anchor="middle" x="502.26" y="-218.7" font-family="Times,serif" font-size="24.00">terminating</text>
</g>
<!-- starting&#45;&gt;terminating -->
<g id="edge4" class="edge">
<title>starting&#45;&gt;terminating</title>
<path fill="none" stroke="black" d="M268.1,-524.73C226.77,-485.35 136.69,-386.73 185.26,-315 197.33,-297.16 212.77,-309.58 230.26,-297 245.87,-285.76 241.42,-273.3 258.26,-264 286.55,-248.36 366.45,-238.99 427.17,-233.94"/>
<polygon fill="black" stroke="black" points="427.08,-237.46 436.76,-233.17 426.51,-230.48 427.08,-237.46"/>
<text text-anchor="middle" x="228.49" y="-388.7" font-family="Times,serif" font-size="14.00">stop (before</text>
<text text-anchor="middle" x="228.49" y="-372.2" font-family="Times,serif" font-size="14.00">okay wait elapses)</text>
</g>
<!-- exited -->
<g id="node8" class="node">
<title>exited</title>
<polygon fill="none" stroke="black" points="140.51,-246 66.01,-246 66.01,-210 140.51,-210 140.51,-246"/>
<text text-anchor="middle" x="103.26" y="-218.7" font-family="Times,serif" font-size="24.00">exited</text>
</g>
<!-- starting&#45;&gt;exited -->
<g id="edge13" class="edge">
<title>starting&#45;&gt;exited</title>
<path fill="none" stroke="black" d="M242.93,-540.76C182.05,-538.2 76.72,-530.42 47.26,-507 -2.83,-467.18 -5.58,-431.88 6.26,-369 15.53,-319.77 15.28,-302.57 47.26,-264 50.51,-260.07 54.33,-256.45 58.42,-253.15"/>
<polygon fill="black" stroke="black" points="60.41,-256.03 66.45,-247.33 56.3,-250.36 60.41,-256.03"/>
<text text-anchor="middle" x="22.76" y="-380.45" font-family="Times,serif" font-size="14.00">exited</text>
</g>
<!-- backoff&#45;&gt;starting -->
<g id="edge14" class="edge">
<title>backoff&#45;&gt;starting</title>
<path fill="none" stroke="black" d="M388.91,-456.41C378.44,-461.46 367.51,-467.42 358.01,-474 340.38,-486.21 322.98,-502.85 309.85,-516.62"/>
<polygon fill="black" stroke="black" points="307.55,-513.94 303.29,-523.64 312.67,-518.72 307.55,-513.94"/>
<text text-anchor="middle" x="369.63" y="-485.45" font-family="Times,serif" font-size="14.00">start</text>
</g>
<!-- backoff&#45;&gt;running -->
<g id="edge21" class="edge">
<title>backoff&#45;&gt;running</title>
<path fill="none" stroke="black" d="M438.58,-419.53C443.45,-404.98 447.43,-384.25 438.26,-369 435.4,-364.25 431.65,-360.11 427.4,-356.51"/>
<polygon fill="black" stroke="black" points="429.48,-353.69 419.3,-350.73 425.41,-359.39 429.48,-353.69"/>
<text text-anchor="middle" x="478.65" y="-388.7" font-family="Times,serif" font-size="14.00">backoff time</text>
<text text-anchor="middle" x="478.65" y="-372.2" font-family="Times,serif" font-size="14.00">elapsed</text>
</g>
<!-- stopped -->
<g id="node7" class="node">
<title>stopped</title>
<polygon fill="none" stroke="black" points="634.38,-36 544.13,-36 544.13,0 634.38,0 634.38,-36"/>
<text text-anchor="middle" x="589.26" y="-8.7" font-family="Times,serif" font-size="24.00">stopped</text>
</g>
<!-- backoff&#45;&gt;stopped -->
<g id="edge20" class="edge">
<title>backoff&#45;&gt;stopped</title>
<path fill="none" stroke="black" d="M475.45,-429.98C553.66,-416.3 708.26,-383.06 708.26,-334 708.26,-334 708.26,-334 708.26,-122 708.26,-89.48 704.42,-76.83 681.26,-54 671.27,-44.16 658.23,-37.03 645.12,-31.88"/>
<polygon fill="black" stroke="black" points="646.68,-28.72 636.08,-28.68 644.34,-35.32 646.68,-28.72"/>
<text text-anchor="middle" x="719.51" y="-222.95" font-family="Times,serif" font-size="14.00">stop</text>
</g>
<!-- running&#45;&gt;backoff -->
<g id="edge19" class="edge">
<title>running&#45;&gt;backoff</title>
<path fill="none" stroke="black" d="M356.37,-351.31C352.46,-356.61 348.81,-362.71 346.76,-369 342.21,-382.95 338.61,-389.81 346.76,-402 353.85,-412.62 364.83,-420.02 376.55,-425.18"/>
<polygon fill="black" stroke="black" points="374.96,-428.32 385.55,-428.62 377.46,-421.78 374.96,-428.32"/>
<text text-anchor="middle" x="392.51" y="-388.7" font-family="Times,serif" font-size="14.00">exited</text>
<text text-anchor="middle" x="392.51" y="-372.2" font-family="Times,serif" font-size="14.00">(action &quot;restart&quot;)</text>
</g>
<!-- running&#45;&gt;terminating -->
<g id="edge5" class="edge">
<title>running&#45;&gt;terminating</title>
<path fill="none" stroke="black" d="M418.01,-328.33C441.13,-324.15 467.9,-315.35 485.26,-297 495.22,-286.47 499.59,-271.02 501.42,-257.5"/>
<polygon fill="black" stroke="black" points="504.88,-258.08 502.31,-247.81 497.91,-257.45 504.88,-258.08"/>
<text text-anchor="middle" x="511.39" y="-275.45" font-family="Times,serif" font-size="14.00">stop</text>
</g>
<!-- running&#45;&gt;terminating -->
<g id="edge6" class="edge">
<title>running&#45;&gt;terminating</title>
<path fill="none" stroke="black" d="M372.21,-314.69C373.11,-299.45 376.82,-277.6 389.76,-264 399.98,-253.25 413.44,-245.79 427.48,-240.61"/>
<polygon fill="black" stroke="black" points="428.43,-243.98 436.85,-237.54 426.26,-237.32 428.43,-243.98"/>
<text text-anchor="middle" x="435.51" y="-283.7" font-family="Times,serif" font-size="14.00">check failed</text>
<text text-anchor="middle" x="435.51" y="-267.2" font-family="Times,serif" font-size="14.00">(action &quot;restart&quot;)</text>
</g>
<!-- running&#45;&gt;exited -->
<g id="edge17" class="edge">
<title>running&#45;&gt;exited</title>
<path fill="none" stroke="black" d="M326.54,-317.92C310.75,-312.31 293.21,-305.22 278.01,-297 256.27,-285.25 255.52,-274.73 233.26,-264 207.7,-251.68 177.14,-243.17 152.08,-237.63"/>
<polygon fill="black" stroke="black" points="152.97,-234.24 142.47,-235.61 151.53,-241.09 152.97,-234.24"/>
<text text-anchor="middle" x="324.13" y="-283.7" font-family="Times,serif" font-size="14.00">exited</text>
<text text-anchor="middle" x="324.13" y="-267.2" font-family="Times,serif" font-size="14.00">(action &quot;ignore&quot;)</text>
</g>
<!-- running&#45;&gt;exited -->
<g id="edge18" class="edge">
<title>running&#45;&gt;exited</title>
<path fill="none" stroke="black" d="M326.4,-317.88C321.98,-316.8 317.55,-315.81 313.26,-315 270.66,-306.96 151.66,-325.51 119.01,-297 107.88,-287.29 103.78,-271.41 102.54,-257.44"/>
<polygon fill="black" stroke="black" points="106.05,-257.69 102.13,-247.84 99.05,-257.98 106.05,-257.69"/>
<text text-anchor="middle" x="174.13" y="-283.7" font-family="Times,serif" font-size="14.00">exited</text>
<text text-anchor="middle" x="174.13" y="-267.2" font-family="Times,serif" font-size="14.00">(action &quot;shutdown&quot;)</text>
</g>
<!-- terminating&#45;&gt;backoff -->
<g id="edge10" class="edge">
<title>terminating&#45;&gt;backoff</title>
<path fill="none" stroke="black" d="M517.22,-246.43C520.9,-251.74 524.34,-257.81 526.26,-264 544.45,-322.71 553.71,-352.51 517.26,-402 509.57,-412.44 498.22,-419.77 486.27,-424.92"/>
<polygon fill="black" stroke="black" points="485.23,-421.58 477.11,-428.38 487.7,-428.13 485.23,-421.58"/>
<text text-anchor="middle" x="572.25" y="-336.2" font-family="Times,serif" font-size="14.00">exited</text>
<text text-anchor="middle" x="572.25" y="-319.7" font-family="Times,serif" font-size="14.00">(restarting)</text>
</g>
<!-- killing -->
<g id="node6" class="node">
<title>killing</title>
<polygon fill="none" stroke="black" points="675.76,-141 596.76,-141 596.76,-105 675.76,-105 675.76,-141"/>
<text text-anchor="middle" x="636.26" y="-113.7" font-family="Times,serif" font-size="24.00">killing</text>
</g>
<!-- terminating&#45;&gt;killing -->
<g id="edge7" class="edge">
<title>terminating&#45;&gt;killing</title>
<path fill="none" stroke="black" d="M507.65,-209.64C513.22,-194.35 523.34,-172.48 539.01,-159 543.02,-155.55 564.01,-147.83 585.47,-140.53"/>
<polygon fill="black" stroke="black" points="586.51,-143.87 594.87,-137.36 584.28,-137.24 586.51,-143.87"/>
<text text-anchor="middle" x="579.13" y="-178.7" font-family="Times,serif" font-size="14.00">terminate time</text>
<text text-anchor="middle" x="579.13" y="-162.2" font-family="Times,serif" font-size="14.00">elapsed</text>
</g>
<!-- terminating&#45;&gt;stopped -->
<g id="edge8" class="edge">
<title>terminating&#45;&gt;stopped</title>
<path fill="none" stroke="black" d="M499.29,-209.53C494.53,-175.2 489.29,-98.4 528.26,-54 531.84,-49.91 536.03,-46.19 540.49,-42.83"/>
<polygon fill="black" stroke="black" points="542.38,-45.78 548.7,-37.27 538.46,-39.98 542.38,-45.78"/>
<text text-anchor="middle" x="542.74" y="-126.2" font-family="Times,serif" font-size="14.00">exited</text>
<text text-anchor="middle" x="542.74" y="-109.7" font-family="Times,serif" font-size="14.00">(not restarting)</text>
</g>
<!-- killing&#45;&gt;backoff -->
<g id="edge11" class="edge">
<title>killing&#45;&gt;backoff</title>
<path fill="none" stroke="black" d="M635.66,-141.17C633.79,-187.71 626.88,-315.17 606.26,-351 581.59,-393.87 528.08,-415.82 486.68,-426.76"/>
<polygon fill="black" stroke="black" points="485.96,-423.33 477.1,-429.14 487.65,-430.13 485.96,-423.33"/>
<text text-anchor="middle" x="656.11" y="-283.7" font-family="Times,serif" font-size="14.00">exited</text>
<text text-anchor="middle" x="656.11" y="-267.2" font-family="Times,serif" font-size="14.00">(restarting)</text>
</g>
<!-- killing&#45;&gt;stopped -->
<g id="edge9" class="edge">
<title>killing&#45;&gt;stopped</title>
<path fill="none" stroke="black" d="M596.36,-108.92C570.05,-100.1 540.1,-89.62 538.26,-87 529.81,-75.01 531.42,-66.98 538.26,-54 540.2,-50.32 542.72,-46.94 545.6,-43.87"/>
<polygon fill="black" stroke="black" points="547.67,-46.73 552.8,-37.46 543.01,-41.5 547.67,-46.73"/>
<text text-anchor="middle" x="578.76" y="-73.7" font-family="Times,serif" font-size="14.00">exited</text>
<text text-anchor="middle" x="578.76" y="-57.2" font-family="Times,serif" font-size="14.00">(not restarting)</text>
</g>
<!-- killing&#45;&gt;stopped -->
<g id="edge22" class="edge">
<title>killing&#45;&gt;stopped</title>
<path fill="none" stroke="black" d="M634.19,-104.73C631.97,-90.5 627.58,-70.11 619.26,-54 617.74,-51.07 615.94,-48.17 613.97,-45.37"/>
<polygon fill="black" stroke="black" points="616.75,-43.24 607.82,-37.54 611.24,-47.57 616.75,-43.24"/>
<text text-anchor="middle" x="653.85" y="-73.7" font-family="Times,serif" font-size="14.00">kill time</text>
<text text-anchor="middle" x="653.85" y="-57.2" font-family="Times,serif" font-size="14.00">elapsed</text>
</g>
<!-- stopped&#45;&gt;starting -->
<g id="edge15" class="edge">
<title>stopped&#45;&gt;starting</title>
<path fill="none" stroke="black" d="M634.81,-26.4C685.17,-37.47 759.26,-63.68 759.26,-122 759.26,-439 759.26,-439 759.26,-439 759.26,-523.38 467.65,-538.75 342.85,-541.46"/>
<polygon fill="black" stroke="black" points="343.1,-537.96 333.17,-541.65 343.24,-544.95 343.1,-537.96"/>
<text text-anchor="middle" x="770.88" y="-275.45" font-family="Times,serif" font-size="14.00">start</text>
</g>
<!-- exited&#45;&gt;starting -->
<g id="edge16" class="edge">
<title>exited&#45;&gt;starting</title>
<path fill="none" stroke="black" d="M94.78,-246.41C92.52,-251.9 90.4,-258.09 89.26,-264 86.48,-278.4 86.97,-282.51 89.26,-297 104.55,-393.9 86.17,-439.39 157.26,-507 177.17,-525.94 206.22,-534.87 231.81,-538.98"/>
<polygon fill="black" stroke="black" points="231.02,-542.41 241.41,-540.3 231.98,-535.47 231.02,-542.41"/>
<text text-anchor="middle" x="111.96" y="-380.45" font-family="Times,serif" font-size="14.00">start</text>
</g>
<!-- exited&#45;&gt;backoff -->
<g id="edge23" class="edge">
<title>exited&#45;&gt;backoff</title>
<path fill="none" stroke="black" d="M97.19,-246.42C93.23,-261.13 90.42,-282.11 100.26,-297 146.83,-367.52 199.05,-334.62 276.26,-369 304.77,-381.7 309.81,-389.14 338.26,-402 350.41,-407.5 363.72,-412.87 376.36,-417.68"/>
<polygon fill="black" stroke="black" points="374.77,-420.83 385.37,-421.06 377.23,-414.27 374.77,-420.83"/>
<text text-anchor="middle" x="252.41" y="-336.2" font-family="Times,serif" font-size="14.00">check failed</text>
<text text-anchor="middle" x="252.41" y="-319.7" font-family="Times,serif" font-size="14.00">(action &quot;restart&quot;)</text>
</g>
<!-- exited&#45;&gt;stopped -->
<g id="edge12" class="edge">
<title>exited&#45;&gt;stopped</title>
<path fill="none" stroke="black" d="M140.88,-210.64C211.97,-179.76 370.92,-110.89 505.26,-54 515.51,-49.66 526.49,-45.05 537.01,-40.66"/>
<polygon fill="black" stroke="black" points="538.06,-44.01 545.95,-36.93 535.37,-37.55 538.06,-44.01"/>
<text text-anchor="middle" x="393.54" y="-117.95" font-family="Times,serif" font-size="14.00">stop</text>
</g>
</g>
</svg>
